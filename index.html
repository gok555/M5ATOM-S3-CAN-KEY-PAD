<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATOM S3 CAN Remote</title>

<style>
body {
    margin: 0;
    padding: 12px;
    font-family: system-ui, sans-serif;
    background: #111;
    color: #fff;
}

button {
    width: 100%;
    height: 70px;
    font-size: 22px;
    margin-bottom: 12px;
    border-radius: 14px;
    border: none;
    background: #2c7cff;
    color: white;
}

button:active {
    background: #1a4fa3;
}

#connect {
    background: #00c853;
}

#log {
    background: #000;
    border-radius: 8px;
    padding: 10px;
    height: 140px;
    overflow-y: auto;
    font-size: 14px;
}
</style>
</head>

<body>

<button id="connect">ðŸ”µ BLE æŽ¥ç¶š</button>

<button onclick="send('BTN1')">BTN 1</button>
<button onclick="send('BTN2')">BTN 2</button>
<button onclick="send('BTN3')">BTN 3</button>
<button onclick="send('BTN4')">BTN 4</button>

<div id="log"></div>

<script>
let device, characteristic;

async function connect() {
    device = await navigator.bluetooth.requestDevice({
        filters: [{ name: "ATOM_S3_CAN" }],
        optionalServices: ['6e400001-b5a3-f393-e0a9-e50e24dcca9e']
    });

    const server = await device.gatt.connect();
    const service = await server.getPrimaryService(
        '6e400001-b5a3-f393-e0a9-e50e24dcca9e'
    );
    characteristic = await service.getCharacteristic(
        '6e400002-b5a3-f393-e0a9-e50e24dcca9e'
    );

    log("BLE Connected");
